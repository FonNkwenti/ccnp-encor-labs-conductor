<mxfile host="app.diagrams.net" modified="2026-02-26" version="21.0.0">
  <diagram name="BGP Lab 07 - Multihoming &amp; Traffic Engineering" id="lab07-bgp-topology">
    <mxGraphModel dx="1422" dy="762" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- ======================== TITLE ======================== -->
        <mxCell id="title" value="Lab 07: Multihoming &amp; Traffic Engineering"
          style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1"
          vertex="1" parent="1">
          <mxGeometry x="200" y="20" width="460" height="40" as="geometry" />
        </mxCell>

        <!-- ======================== DEVICE ICONS ======================== -->

        <!-- R1 Enterprise Edge (center) -->
        <mxCell id="R1" value=""
          style="shape=mxgraph.cisco.routers.router;fillColor=#036897;strokeColor=#ffffff;strokeWidth=2;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;"
          vertex="1" parent="1">
          <mxGeometry x="361" y="270" width="78" height="53" as="geometry" />
        </mxCell>
        <mxCell id="R1_lbl" value="R1&#10;Enterprise Edge&#10;AS 65001&#10;172.16.1.1/32"
          style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1"
          vertex="1" parent="1">
          <mxGeometry x="253" y="263" width="103" height="67" as="geometry" />
        </mxCell>

        <!-- R2 ISP-A (upper left) -->
        <mxCell id="R2" value=""
          style="shape=mxgraph.cisco.routers.router;fillColor=#036897;strokeColor=#ffffff;strokeWidth=2;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;"
          vertex="1" parent="1">
          <mxGeometry x="148" y="100" width="78" height="53" as="geometry" />
        </mxCell>
        <mxCell id="R2_lbl" value="R2&#10;ISP-A&#10;AS 65002&#10;172.16.2.2/32"
          style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1"
          vertex="1" parent="1">
          <mxGeometry x="40" y="93" width="103" height="67" as="geometry" />
        </mxCell>

        <!-- R3 ISP-B (upper right) -->
        <mxCell id="R3" value=""
          style="shape=mxgraph.cisco.routers.router;fillColor=#036897;strokeColor=#ffffff;strokeWidth=2;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;"
          vertex="1" parent="1">
          <mxGeometry x="574" y="100" width="78" height="53" as="geometry" />
        </mxCell>
        <mxCell id="R3_lbl" value="R3&#10;ISP-B&#10;AS 65003&#10;172.16.3.3/32"
          style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1"
          vertex="1" parent="1">
          <mxGeometry x="657" y="93" width="103" height="67" as="geometry" />
        </mxCell>

        <!-- R4 Enterprise Internal (lower left) -->
        <mxCell id="R4" value=""
          style="shape=mxgraph.cisco.routers.router;fillColor=#036897;strokeColor=#ffffff;strokeWidth=2;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;"
          vertex="1" parent="1">
          <mxGeometry x="148" y="460" width="78" height="53" as="geometry" />
        </mxCell>
        <mxCell id="R4_lbl" value="R4&#10;Enterprise Int.&#10;AS 65001&#10;172.16.4.4/32"
          style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1"
          vertex="1" parent="1">
          <mxGeometry x="40" y="453" width="103" height="67" as="geometry" />
        </mxCell>

        <!-- R5 Downstream Customer (lower right) -->
        <mxCell id="R5" value=""
          style="shape=mxgraph.cisco.routers.router;fillColor=#036897;strokeColor=#ffffff;strokeWidth=2;verticalLabelPosition=bottom;verticalAlign=top;align=center;outlineConnect=0;"
          vertex="1" parent="1">
          <mxGeometry x="574" y="460" width="78" height="53" as="geometry" />
        </mxCell>
        <mxCell id="R5_lbl" value="R5&#10;Downstream Cust.&#10;AS 65004&#10;172.16.5.5/32"
          style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=11;fontStyle=1"
          vertex="1" parent="1">
          <mxGeometry x="657" y="453" width="103" height="67" as="geometry" />
        </mxCell>

        <!-- ======================== CONNECTION LINES ======================== -->

        <!-- L1: R1-R2 (10.1.12.0/30) Fa1/0 - Fa0/0 -->
        <mxCell id="link_R1_R2" value="Fa1/0 - Fa0/0&#10;10.1.12.0/30"
          style="endArrow=none;html=1;strokeWidth=2;strokeColor=#FFFFFF;fillColor=#f5f5f5;"
          edge="1" parent="1" source="R1" target="R2">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- L2: R1-R3 (10.1.13.0/30) Fa1/1 - Fa1/0 -->
        <mxCell id="link_R1_R3" value="Fa1/1 - Fa1/0&#10;10.1.13.0/30"
          style="endArrow=none;html=1;strokeWidth=2;strokeColor=#FFFFFF;fillColor=#f5f5f5;"
          edge="1" parent="1" source="R1" target="R3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- L3: R2-R3 (10.1.23.0/30) Fa1/0 - Fa0/0 -->
        <mxCell id="link_R2_R3" value="Fa1/0 - Fa0/0&#10;10.1.23.0/30"
          style="endArrow=none;html=1;strokeWidth=2;strokeColor=#FFFFFF;fillColor=#f5f5f5;"
          edge="1" parent="1" source="R2" target="R3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- L4: R1-R4 (10.1.14.0/30) Fa0/0 - Fa0/0 -->
        <mxCell id="link_R1_R4" value="Fa0/0 - Fa0/0&#10;10.1.14.0/30"
          style="endArrow=none;html=1;strokeWidth=2;strokeColor=#FFFFFF;fillColor=#f5f5f5;"
          edge="1" parent="1" source="R1" target="R4">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- L5: R3-R5 (10.1.35.0/30) Fa1/1 - Fa0/0 -->
        <mxCell id="link_R3_R5" value="Fa1/1 - Fa0/0&#10;10.1.35.0/30"
          style="endArrow=none;html=1;strokeWidth=2;strokeColor=#FFFFFF;fillColor=#f5f5f5;"
          edge="1" parent="1" source="R3" target="R5">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ======================== IP LAST-OCTET LABELS ======================== -->

        <!-- R1-R2 link: R1=.1, R2=.2 -->
        <mxCell id="oct_R1_R2_r1" value=".1"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="372" y="258" as="geometry" />
        </mxCell>
        <mxCell id="oct_R1_R2_r2" value=".2"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="220" y="142" as="geometry" />
        </mxCell>

        <!-- R1-R3 link: R1=.1, R3=.2 -->
        <mxCell id="oct_R1_R3_r1" value=".1"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="433" y="258" as="geometry" />
        </mxCell>
        <mxCell id="oct_R1_R3_r3" value=".2"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="580" y="142" as="geometry" />
        </mxCell>

        <!-- R2-R3 link: R2=.1, R3=.2 -->
        <mxCell id="oct_R2_R3_r2" value=".1"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="232" y="116" as="geometry" />
        </mxCell>
        <mxCell id="oct_R2_R3_r3" value=".2"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="560" y="116" as="geometry" />
        </mxCell>

        <!-- R1-R4 link: R1=.1, R4=.2 -->
        <mxCell id="oct_R1_R4_r1" value=".1"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="370" y="328" as="geometry" />
        </mxCell>
        <mxCell id="oct_R1_R4_r4" value=".2"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="222" y="450" as="geometry" />
        </mxCell>

        <!-- R3-R5 link: R3=.1, R5=.2 -->
        <mxCell id="oct_R3_R5_r3" value=".1"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="614" y="160" as="geometry" />
        </mxCell>
        <mxCell id="oct_R3_R5_r5" value=".2"
          style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontSize=10;"
          vertex="1" connectable="0" parent="1">
          <mxGeometry x="614" y="448" as="geometry" />
        </mxCell>

        <!-- ======================== LEGEND ======================== -->
        <mxCell id="legend"
          value="Legend&#10;&#x2500;&#x2500;&#x2500; Physical Link (eBGP/iBGP)&#10;&#10;AS 65001: R1, R4 (Enterprise)&#10;AS 65002: R2 (ISP-A)&#10;AS 65003: R3 (ISP-B)&#10;AS 65004: R5 (Downstream Cust.)"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#000000;strokeColor=#FFFFFF;fontColor=#FFFFFF;fontSize=10;align=left;verticalAlign=top;spacingLeft=8;spacingTop=8;"
          vertex="1" parent="1">
          <mxGeometry x="660" y="530" width="200" height="110" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
