hostname R2
!
key chain OSPF_AUTH
 key 1
  key-string Cisco$ecure123
  cryptographic-algorithm hmac-sha-256
!
interface Loopback0
 ip address 10.2.2.2 255.255.255.255
!
interface FastEthernet0/0
 description Link to R1 - Area 0
 ip address 10.12.0.2 255.255.255.252
 ip ospf network point-to-point
 ip ospf authentication key-chain OSPF_AUTH
 no shutdown
!
interface FastEthernet1/0
 description Link to R3 - Area 1
 ip address 10.23.0.1 255.255.255.252
 ip ospf network point-to-point
 ip ospf authentication message-digest
 ip ospf message-digest-key 1 md5 OspfMd5Key1
 no shutdown
!
interface FastEthernet1/1
 description Link to R5 - External EIGRP
 ip address 10.25.0.1 255.255.255.252
 no shutdown
!
ip prefix-list E1_ROUTES seq 5 permit 172.16.5.0/24
ip prefix-list E2_ROUTES seq 5 permit 172.16.105.0/24
!
route-map EIGRP_TO_OSPF permit 10
 match ip address prefix-list E1_ROUTES
 set metric-type type-1
!
route-map EIGRP_TO_OSPF permit 20
 match ip address prefix-list E2_ROUTES
 set metric-type type-2
!
route-map EIGRP_TO_OSPF permit 30
!
router eigrp 100
 network 10.25.0.0 0.0.0.3
 no auto-summary
!
router ospf 1
 router-id 10.2.2.2
 auto-cost reference-bandwidth 1000
 area 1 authentication message-digest
 redistribute eigrp 100 subnets route-map EIGRP_TO_OSPF
 network 10.2.2.2 0.0.0.0 area 0
 network 10.12.0.0 0.0.0.3 area 0
 network 10.23.0.0 0.0.0.3 area 1
!
end
